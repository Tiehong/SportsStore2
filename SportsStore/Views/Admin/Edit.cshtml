@model Product
@{
	ViewBag.Title = "Edit Product";
	Layout = "_AdminLayout";
}

<form asp-action="Edit" method="post" enctype="multipart/form-data">
	<input type="hidden" asp-for="ProductID" />
	<div class="form-group">
		<label asp-for="Name"></label>
		<div><span asp-validation-for="Name" class="text-danger"></span></div>
		<input asp-for="Name" class="form-control" />
	</div>
	<div class="form-group">
		<label asp-for="Description"></label>
		<div><span asp-validation-for="Description" class="text-danger"></span></div>
		<textarea asp-for="Description" class="form-control"></textarea>
	</div>
	<div class="form-group">
		<label asp-for="Category"></label>
		<div><span asp-validation-for="Category" class="text-danger"></span></div>
		<input asp-for="Category" class="form-control" />
	</div>
	<div class="form-group">
		<label asp-for="Price"></label>
		<div><span asp-validation-for="Price" class="text-danger"></span></div>
		<input asp-for="Price" class="form-control" />
	</div>

	<div class="form-group">
		<div style="position:relative">
			<label>Image</label>
			<a class="btn btn-secondary" href="javascript:;">
				Choose File...
				<input type="file" name="Image" size="40"
					   style="position:absolute;z-index:2;top:0;
                            left:0;filter:alpha(opacity=0);opacity:0;
                            background-color:transparent;color:transparent;"
					   onchange='$("#upload-file-info").html($(this).val());' />
			</a>
			<span class="label label-info" id="upload-file-info"></span>
		</div>
		@if (Model.ImageData == null)
		{
			<div class="form-control-static">No Image</div>
		}
		else
		{
			<br/>
			<img class="img-thumbnail" width="150" height="150"
				 src="@Url.Action("GetImage","Product", new {Model.ProductID})" />
		}
	</div>

	<div class="text-center">
		<button class="btn btn-primary" type="submit">Save</button>
		<a asp-action="Index" class="btn btn-secondary">Cancel</a>
		<a asp-action="List" asp-controller="Product" class="btn btn-secondary">Return</a>
	</div>
</form>
